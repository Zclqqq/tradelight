(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>i});var s=a(5155),r=a(2115),n=a(4253),l=a(2085),o=a(9434);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-none text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-foreground bg-transparent hover:bg-foreground hover:text-background",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(i({variant:r,size:l,className:a})),ref:t,...c})});d.displayName="Button"},1029:(e,t,a)=>{Promise.resolve().then(a.bind(a,7560))},6695:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>o});var s=a(5155),r=a(2115),n=a(9434);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-none bg-transparent",a),...r})});l.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-4",a),...r})});o.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});i.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-4 pt-0",a),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-4 pt-0",a),...r})}).displayName="CardFooter"},7481:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var s=a(2115);let r=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],d={toasts:[]};function c(e){d=o(d,e),i.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7560:(e,t,a)=>{"use strict";a.d(t,{default:()=>eg});var s=a(5155),r=a(2115),n=a(3013),l=a(1920),o=a(7223),i=a(6923),d=a(2177),c=a(221),u=a(5594),m=a(6766),x=a(285),f=a(6695),p=a(9434);let h=r.forwardRef((e,t)=>{let{className:a,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,p.cn)("flex h-10 w-full rounded-none border border-foreground bg-transparent px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-ring focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});h.displayName="Input";let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,p.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});g.displayName="Textarea";var v=a(4253),b=a(968);let j=(0,a(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(b.b,{ref:t,className:(0,p.cn)(j(),a),...r})});y.displayName=b.b.displayName;let N=d.Op,w=r.createContext({}),S=e=>{let{...t}=e;return(0,s.jsx)(w.Provider,{value:{name:t.name},children:(0,s.jsx)(d.xI,{...t})})},k=()=>{let e=r.useContext(w),t=r.useContext(T),{getFieldState:a,formState:s}=(0,d.xW)(),n=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},T=r.createContext({}),C=r.forwardRef((e,t)=>{let{className:a,...n}=e,l=r.useId();return(0,s.jsx)(T.Provider,{value:{id:l},children:(0,s.jsx)("div",{ref:t,className:(0,p.cn)("space-y-2",a),...n})})});C.displayName="FormItem";let R=r.forwardRef((e,t)=>{let{className:a,...r}=e,{error:n,formItemId:l}=k();return(0,s.jsx)(y,{ref:t,className:(0,p.cn)(n&&"text-destructive",a),htmlFor:l,...r})});R.displayName="FormLabel";let z=r.forwardRef((e,t)=>{let{...a}=e,{error:r,formItemId:n,formDescriptionId:l,formMessageId:o}=k();return(0,s.jsx)(v.DX,{ref:t,id:n,"aria-describedby":r?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!r,...a})});z.displayName="FormControl",r.forwardRef((e,t)=>{let{className:a,...r}=e,{formDescriptionId:n}=k();return(0,s.jsx)("p",{ref:t,id:n,className:(0,p.cn)("text-sm text-muted-foreground",a),...r})}).displayName="FormDescription";let D=r.forwardRef((e,t)=>{var a;let{className:r,children:n,...l}=e,{error:o,formMessageId:i}=k(),d=o?String(null!=(a=null==o?void 0:o.message)?a:""):n;return d?(0,s.jsx)("p",{ref:t,id:i,className:(0,p.cn)("text-sm font-medium text-destructive",r),...l,children:d}):null});D.displayName="FormMessage";var _=a(7481),I=a(8176);let A=I.bL,P=I.l9,E=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:n=4,...l}=e;return(0,s.jsx)(I.ZL,{children:(0,s.jsx)(I.UC,{ref:t,align:r,sideOffset:n,className:(0,p.cn)("z-50 w-72 rounded-none border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});E.displayName=I.UC.displayName;var L=a(965),M=a(3158),O=a(7859);function F(e){let{className:t,classNames:a,showOutsideDays:r=!0,...n}=e;return(0,s.jsx)(O.hv,{showOutsideDays:r,className:(0,p.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,p.cn)((0,x.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,p.cn)((0,x.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:e=>{let{className:t,...a}=e;return(0,s.jsx)(L.A,{className:(0,p.cn)("h-4 w-4",t),...a})},IconRight:e=>{let{className:t,...a}=e;return(0,s.jsx)(M.A,{className:(0,p.cn)("h-4 w-4",t),...a})}},...n})}F.displayName="Calendar";var U=a(5695),V=a(3433),Z=a(9556),B=a(7381),Q=a(518);let W=V.bL;V.YJ;let H=V.WT,J=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(V.l9,{ref:t,className:(0,p.cn)("flex h-10 w-full items-center justify-between rounded-none border border-foreground bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,s.jsx)(V.In,{asChild:!0,children:(0,s.jsx)(Z.A,{className:"h-4 w-4 opacity-50"})})]})});J.displayName=V.l9.displayName;let q=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(V.PP,{ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(B.A,{className:"h-4 w-4"})})});q.displayName=V.PP.displayName;let G=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(V.wn,{ref:t,className:(0,p.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(Z.A,{className:"h-4 w-4"})})});G.displayName=V.wn.displayName;let $=r.forwardRef((e,t)=>{let{className:a,children:r,position:n="popper",...l}=e;return(0,s.jsx)(V.ZL,{children:(0,s.jsxs)(V.UC,{ref:t,className:(0,p.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-none border border-foreground bg-background text-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...l,children:[(0,s.jsx)(q,{}),(0,s.jsx)(V.LM,{className:(0,p.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(G,{})]})})});$.displayName=V.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(V.JU,{ref:t,className:(0,p.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=V.JU.displayName;let Y=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsxs)(V.q7,{ref:t,className:(0,p.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(V.VF,{children:(0,s.jsx)(Q.A,{className:"h-4 w-4"})})}),(0,s.jsx)(V.p4,{children:r})]})});Y.displayName=V.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(V.wv,{ref:t,className:(0,p.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=V.wv.displayName;var X=a(7701),K=a(154);let ee=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(X.bL,{className:(0,p.cn)("grid gap-2",a),...r,ref:t})});ee.displayName=X.bL.displayName;let et=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(X.q7,{ref:t,className:(0,p.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,s.jsx)(X.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(K.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});et.displayName=X.q7.displayName;var ea=a(3974),es=a(4050);let er=r.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:n=!0,...l}=e;return(0,s.jsx)(es.b,{ref:t,decorative:n,orientation:r,className:(0,p.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...l})});er.displayName=es.b.displayName;let en=u.z.object({sessionName:u.z.string(),movementType:u.z.enum(["none","expansion","retracement","continuation","reversal"]).default("none"),direction:u.z.enum(["none","up","down","both"]).default("none"),tookHighLow:u.z.enum(["none","took-high","took-low","took-both"]).optional().default("none"),targetSession:u.z.enum(["none","asia","london","new-york","previous-day"]).default("none")}),el=u.z.object({instrument:u.z.string().min(1,"Instrument is required."),pnl:u.z.coerce.number(),entryTime:u.z.string().optional().default(""),exitTime:u.z.string().optional().default(""),contracts:u.z.coerce.number().optional(),tradeTp:u.z.coerce.number().optional(),tradeSl:u.z.coerce.number().optional(),totalPoints:u.z.coerce.number().optional(),analysisImage:u.z.string().optional().default(""),sessions:u.z.array(en).optional()}),eo=u.z.object({date:u.z.date(),notes:u.z.string().optional().default(""),trades:u.z.array(el)}),ei=["Asia","London","New York","Lunch","PM Session"],ed=[{value:"expansion",label:"Expansion"},{value:"retracement",label:"Retracement"},{value:"continuation",label:"Continuation"},{value:"reversal",label:"Reversal"}],ec=[{value:"up",label:"Up"},{value:"down",label:"Down"},{value:"both",label:"Both"}],eu=[{value:"took-high",label:"Took High"},{value:"took-low",label:"Took Low"},{value:"took-both",label:"Took Both"}],em=[{value:"asia",label:"Asia"},{value:"london",label:"London"},{value:"new-york",label:"New York"},{value:"previous-day",label:"Previous Day"}],ex=["MNQ","NQ","ES","MES"],ef={MNQ:2,NQ:20,ES:50,MES:5},ep=()=>(0,s.jsx)("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M7.41 1.41L6 0L0 6L6 12L7.41 10.59L2.83 6L7.41 1.41Z",fill:"hsl(var(--foreground))"})}),eh=e=>{let{label:t,children:a}=e;return(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(R,{className:"text-xs font-medium tracking-widest uppercase text-muted-foreground",children:t}),(0,s.jsxs)("div",{className:"relative",children:[a,(0,s.jsx)(er,{className:"bg-border"})]})]})};function eg(){var e,t;let{toast:a}=(0,_.dj)(),u=(0,U.useRouter)(),v=(0,U.useSearchParams)(),[b,j]=r.useState(!1),y=r.useRef(null),w=r.useRef(null),[k,T]=r.useState(!1);r.useEffect(()=>{T(!0)},[]);let I=r.useMemo(()=>ei.map(e=>({sessionName:e,movementType:"none",direction:"none",tookHighLow:"none",targetSession:"none"})),[]),L=(0,d.mN)({resolver:(0,c.u)(eo),defaultValues:{date:new Date,notes:"",trades:[{instrument:"NQ",pnl:0,sessions:I,analysisImage:"",entryTime:"",exitTime:"",contracts:void 0,tradeTp:void 0,tradeSl:void 0,totalPoints:void 0}]}}),{control:M,getValues:O,setValue:V,watch:Z}=L,{fields:B,update:Q}=(0,d.jz)({control:L.control,name:"trades"}),q=r.useCallback(e=>{let t="trade-log-".concat((0,n.GP)(e.date,"yyyy-MM-dd")),a=e.trades.map(e=>{var t;return{...e,sessions:null==(t=e.sessions)?void 0:t.filter(e=>e.movementType&&"none"!==e.movementType)}}),s={...e,trades:a,date:e.date.toISOString()};localStorage.setItem(t,JSON.stringify(s));let r=Object.keys(localStorage).filter(e=>e.startsWith("trade-log-")).map(e=>{try{return JSON.parse(localStorage.getItem(e))}catch(e){return null}}).filter(Boolean);localStorage.setItem("all-trades",JSON.stringify(r))},[]),G=(0,ea.YQ)(q,2e3);r.useEffect(()=>{if(!k)return;let e=Z(e=>{G(e)});return()=>e.unsubscribe()},[k,Z,G]);let X=()=>{let e=O(),t=e.trades[0].instrument,a=e.trades[0].totalPoints,s=e.trades[0].contracts,r=ef[t]||0,n=a||0,l=s||0;if(0!==n&&0!==l){let e=n*r*l;O("trades.0.pnl")!==e&&V("trades.0.pnl",e,{shouldDirty:!0})}};r.useEffect(()=>{if(!k)return;let e=v.get("date"),t=e?new Date(e):new Date,a="trade-log-".concat((0,n.GP)(t,"yyyy-MM-dd")),s=localStorage.getItem(a),r={instrument:"NQ",pnl:0,analysisImage:"",entryTime:"",exitTime:"",contracts:void 0,tradeTp:void 0,tradeSl:void 0,totalPoints:void 0};if(s){var l,o,i,d,c;let e=JSON.parse(s);e.date=new Date(e.date);let t=(null==(l=e.trades)?void 0:l[0])||{},a=new Map((t.sessions||[]).map(e=>[e.sessionName,e])),n=ei.map(e=>{var t,s,r,n;return{sessionName:e,movementType:(null==(t=a.get(e))?void 0:t.movementType)||"none",direction:(null==(s=a.get(e))?void 0:s.direction)||"none",tookHighLow:(null==(r=a.get(e))?void 0:r.tookHighLow)||"none",targetSession:(null==(n=a.get(e))?void 0:n.targetSession)||"none"}}),u={...r,...t,sessions:n,contracts:null!=(o=t.contracts)?o:void 0,tradeTp:null!=(i=t.tradeTp)?i:void 0,tradeSl:null!=(d=t.tradeSl)?d:void 0,totalPoints:null!=(c=t.totalPoints)?c:void 0},m={date:e.date,notes:e.notes||"",trades:[u]};L.reset(m)}else L.reset({date:t,notes:"",trades:[{...r,sessions:I}]})},[v,L,I,k]);let K=async e=>{e.preventDefault(),await q(L.getValues()),a({title:"Changes Saved!",description:"Your recap has been updated."}),u.push("/")},es=L.watch("trades").reduce((e,t)=>e+(t.pnl||0),0),en=L.watch("trades.0.analysisImage");r.useEffect(()=>{b&&y.current&&(y.current.focus(),y.current.select())},[b]);let el=null!=(t=null==(e=B[0])?void 0:e.pnl)?t:es,eg=el>0?"text-green-500":el<0?"text-red-500":"text-foreground";return(0,s.jsxs)("div",{className:"flex flex-col h-screen max-h-screen text-foreground bg-background p-4",children:[(0,s.jsxs)("header",{className:"relative flex-shrink-0 flex items-center justify-between h-12 px-4 md:px-0 border-b",children:[(0,s.jsx)(x.$,{variant:"ghost",size:"icon",asChild:!0,className:"absolute left-0 top-1/2 -translate-y-1/2",children:(0,s.jsxs)("a",{href:"/",onClick:K,children:[(0,s.jsx)(ep,{}),(0,s.jsx)("span",{className:"sr-only",children:"Back"})]})}),(0,s.jsx)("h1",{className:"text-base font-bold font-headline uppercase mx-auto",children:k?"Recap ".concat((0,n.GP)(L.watch("date"),"M/d/yy")):" "}),(0,s.jsx)("div",{className:"w-10"})]}),(0,s.jsx)("main",{className:"flex-1 overflow-hidden py-6",children:(0,s.jsx)(N,{...L,children:(0,s.jsx)("form",{className:"h-full",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,s.jsx)(f.Zp,{className:"retro-border",children:(0,s.jsx)(f.Wu,{className:"p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4",children:[(0,s.jsxs)("div",{className:"col-span-1 space-y-1",children:[(0,s.jsx)(R,{className:"text-xs font-medium tracking-widest uppercase text-muted-foreground",children:"PNL"}),(0,s.jsxs)("div",{onDoubleClick:()=>{j(!0)},className:"relative",children:[b?(0,s.jsx)(h,{ref:y,type:"number",defaultValue:el,onBlur:()=>{j(!1)},onKeyDown:e=>{if("Enter"===e.key){let t=parseFloat(e.currentTarget.value);!isNaN(t)&&B[0]&&Q(0,{...B[0],pnl:t}),j(!1)}else"Escape"===e.key&&j(!1)},className:(0,p.cn)("text-2xl font-bold h-auto p-0 border-0 focus-visible:ring-0 bg-transparent","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",eg)}):(0,s.jsx)("p",{className:(0,p.cn)("text-2xl font-bold",eg),children:el.toLocaleString("en-US",{style:"currency",currency:"USD"})}),(0,s.jsx)(er,{className:"bg-border"})]})]}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(S,{control:L.control,name:"date",render:e=>{let{field:t}=e;return(0,s.jsxs)(C,{className:"flex flex-col space-y-1",children:[(0,s.jsx)(R,{className:"text-xs font-medium tracking-widest uppercase text-muted-foreground",children:"Date"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(A,{children:[(0,s.jsx)(P,{asChild:!0,children:(0,s.jsx)(z,{children:(0,s.jsxs)(x.$,{variant:"ghost",className:(0,p.cn)("w-full justify-start text-left font-normal p-0 h-auto text-base hover:bg-transparent hover:text-foreground",!t.value&&"text-muted-foreground"),children:[(0,s.jsx)("div",{className:"flex-1",children:t.value&&k?(0,n.GP)(t.value,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})}),(0,s.jsx)(l.A,{className:"h-4 w-4 opacity-50"})]})})}),(0,s.jsx)(E,{className:"w-auto p-0 retro-border",align:"start",children:(0,s.jsx)(F,{mode:"single",selected:t.value,onSelect:t.onChange,disabled:e=>e>new Date||e<new Date("1900-01-01"),initialFocus:!0})})]}),(0,s.jsx)(er,{className:"bg-border"})]}),(0,s.jsx)(D,{})]})}})}),(0,s.jsx)("div",{className:"col-span-2",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.instrument",render:e=>{let{field:t}=e;return(0,s.jsxs)(C,{children:[(0,s.jsx)(z,{children:(0,s.jsx)(ee,{onValueChange:e=>{t.onChange(e),X()},value:t.value,className:"flex items-center space-x-2 pt-2",children:ex.map(e=>(0,s.jsxs)(C,{className:"flex items-center space-x-1 space-y-0",children:[(0,s.jsx)(z,{children:(0,s.jsx)(et,{value:e,id:e,className:"peer sr-only"})}),(0,s.jsx)(R,{htmlFor:e,className:"flex h-7 cursor-pointer items-center justify-center rounded-none border border-foreground bg-transparent px-2 py-1 text-xs font-medium ring-offset-background hover:bg-foreground hover:text-background peer-data-[state=checked]:border-foreground peer-data-[state=checked]:bg-foreground peer-data-[state=checked]:text-background",children:e})]},e))})}),(0,s.jsx)(D,{})]})}})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(eh,{label:"Entry",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.entryTime",render:e=>{let{field:t}=e;return(0,s.jsx)(h,{type:"time",...t,className:"border-0 p-0 text-base h-auto"})}})})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(eh,{label:"Exit",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.exitTime",render:e=>{let{field:t}=e;return(0,s.jsx)(h,{type:"time",...t,className:"border-0 p-0 text-base h-auto"})}})})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(eh,{label:"Contracts",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.contracts",render:e=>{var t;let{field:a}=e;return(0,s.jsx)(h,{type:"number",...a,value:null!=(t=a.value)?t:"",onChange:e=>{a.onChange(e.target.valueAsNumber),X()},className:"border-0 p-0 text-base h-auto"})}})})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(eh,{label:"Points",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.totalPoints",render:e=>{var t;let{field:a}=e;return(0,s.jsx)(h,{type:"number",...a,value:null!=(t=a.value)?t:"",onChange:e=>{a.onChange(e.target.valueAsNumber),X()},className:"border-0 p-0 text-base h-auto"})}})})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(eh,{label:"TP",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.tradeTp",render:e=>{var t;let{field:a}=e;return(0,s.jsx)(h,{type:"number",...a,value:null!=(t=a.value)?t:"",className:"border-0 p-0 text-base h-auto"})}})})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(eh,{label:"SL",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.tradeSl",render:e=>{var t;let{field:a}=e;return(0,s.jsx)(h,{type:"number",...a,value:null!=(t=a.value)?t:"",className:"border-0 p-0 text-base h-auto"})}})})})]})})}),(0,s.jsxs)(f.Zp,{className:"flex-1 flex flex-col retro-border",children:[(0,s.jsx)(f.aR,{className:"border-b",children:(0,s.jsx)(f.ZB,{className:"font-headline text-base uppercase",children:"Notes"})}),(0,s.jsx)(f.Wu,{className:"p-4 pt-4 flex-1",children:(0,s.jsx)(S,{control:L.control,name:"notes",render:e=>{let{field:t}=e;return(0,s.jsxs)(C,{className:"h-full",children:[(0,s.jsx)(z,{children:(0,s.jsx)(g,{className:"bg-transparent border-0 p-0 focus-visible:ring-0 text-base h-full resize-none",placeholder:"General notes for the day...",...t})}),(0,s.jsx)(D,{})]})}})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,s.jsx)(f.Zp,{onPaste:e=>{let t=e.clipboardData.items;for(let e=0;e<t.length;e++)if(-1!==t[e].type.indexOf("image")){let a=t[e].getAsFile();if(a){let e=new FileReader;e.onload=e=>{var t;L.setValue("trades.0.analysisImage",null==(t=e.target)?void 0:t.result,{shouldDirty:!0})},e.readAsDataURL(a)}}},className:"overflow-hidden flex-1 flex flex-col group retro-border",children:(0,s.jsx)(f.Wu,{className:"p-0 flex-1 flex flex-col relative",children:en?(0,s.jsxs)("div",{className:"w-full h-full relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute",style:{top:"0px",bottom:"0px",left:"0px",right:"0px"},children:(0,s.jsx)(m.default,{src:en,alt:"Trade analysis",layout:"fill",objectFit:"cover"})}),(0,s.jsxs)(x.$,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:()=>{L.setValue("trades.0.analysisImage","",{shouldDirty:!0})},children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Remove image"})]})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 text-muted-foreground h-full",children:[(0,s.jsx)(i.A,{className:"h-8 w-8"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:"Paste or upload an image of your trade."}),(0,s.jsx)(x.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{var e;return null==(e=w.current)?void 0:e.click()},children:"Upload File"}),(0,s.jsx)("input",{type:"file",ref:w,onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(a){let e=new FileReader;e.onload=e=>{var t;L.setValue("trades.0.analysisImage",null==(t=e.target)?void 0:t.result,{shouldDirty:!0})},e.readAsDataURL(a)}},className:"hidden",accept:"image/*"})]})})}),(0,s.jsxs)(f.Zp,{className:"retro-border",children:[(0,s.jsx)(f.aR,{className:"border-b",children:(0,s.jsx)(f.ZB,{className:"font-headline text-base uppercase",children:"Seasons"})}),(0,s.jsxs)(f.Wu,{className:"p-4 pt-4 space-y-2",children:[(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-2 text-xs text-muted-foreground font-medium uppercase",children:[(0,s.jsx)("div",{className:"col-span-1",children:"Session"}),(0,s.jsx)("div",{className:"col-span-1",children:"Move"}),(0,s.jsx)("div",{className:"col-span-1",children:"Direction"}),(0,s.jsx)("div",{className:"col-span-1",children:"Sweep"}),(0,s.jsx)("div",{className:"col-span-1",children:"Target"})]}),(L.watch("trades.0.sessions")||[]).map((e,t)=>(0,s.jsxs)("div",{className:"grid grid-cols-5 gap-2 items-center",children:[(0,s.jsx)("h3",{className:"font-headline text-sm col-span-1",children:e.sessionName}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.sessions.".concat(t,".movementType"),render:e=>{let{field:t}=e;return(0,s.jsx)(C,{children:(0,s.jsxs)(W,{onValueChange:t.onChange,value:t.value||"none",children:[(0,s.jsx)(z,{children:(0,s.jsx)(J,{className:"h-8 text-xs",children:(0,s.jsx)(H,{placeholder:"Move..."})})}),(0,s.jsxs)($,{children:[(0,s.jsx)(Y,{value:"none",children:"-"}),ed.map(e=>(0,s.jsx)(Y,{value:e.value,children:e.label},e.value))]})]})})}})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.sessions.".concat(t,".direction"),render:e=>{let{field:t}=e;return(0,s.jsx)(C,{children:(0,s.jsxs)(W,{onValueChange:t.onChange,value:t.value||"none",children:[(0,s.jsx)(z,{children:(0,s.jsx)(J,{className:"h-8 text-xs",children:(0,s.jsx)(H,{placeholder:"Direction..."})})}),(0,s.jsxs)($,{children:[(0,s.jsx)(Y,{value:"none",children:"-"}),ec.map(e=>(0,s.jsx)(Y,{value:e.value,children:e.label},e.value))]})]})})}})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.sessions.".concat(t,".tookHighLow"),render:e=>{let{field:t}=e;return(0,s.jsx)(C,{children:(0,s.jsxs)(W,{onValueChange:t.onChange,value:t.value||"none",children:[(0,s.jsx)(z,{children:(0,s.jsx)(J,{className:"h-8 text-xs",children:(0,s.jsx)(H,{placeholder:"Sweep..."})})}),(0,s.jsxs)($,{children:[(0,s.jsx)(Y,{value:"none",children:"-"}),eu.map(e=>(0,s.jsx)(Y,{value:e.value,children:e.label},e.value))]})]})})}})}),(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)(S,{control:L.control,name:"trades.0.sessions.".concat(t,".targetSession"),render:e=>{let{field:t}=e;return(0,s.jsx)(C,{children:(0,s.jsxs)(W,{onchange:t.onChange,value:t.value||"none",children:[(0,s.jsx)(z,{children:(0,s.jsx)(J,{className:"h-8 text-xs",children:(0,s.jsx)(H,{placeholder:"Target..."})})}),(0,s.jsxs)($,{children:[(0,s.jsx)(Y,{value:"none",children:"-"}),em.map(e=>(0,s.jsx)(Y,{value:e.value,children:e.label},e.value))]})]})})}})})]},t))]})]})]})]})})})})]})}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[846,198,838,197,441,684,358],()=>t(1029)),_N_E=e.O()}]);